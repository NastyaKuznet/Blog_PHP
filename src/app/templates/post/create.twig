<!DOCTYPE html>
<html>
<head>
    <title>Создание поста</title>
    <link rel="stylesheet" href="/style.css">
    <script>
        // Добавляем тег в список перед отправкой формы
        function addTag() {
            const tagInput = document.getElementById('new_tag');
            const selectedTagsDiv = document.getElementById('selected_tags');
            const tagName = tagInput.value.trim();

            if (tagName === '') return;

            // Создаем элемент списка
            const div = document.createElement('div');
            div.innerHTML = `
                <input type="hidden" name="tags[]" value="${tagName}">
                ${tagName} <button type="button" onclick="removeTag(this)">Удалить</button>
            `;
            selectedTagsDiv.appendChild(div);
            tagInput.value = '';
        }

        function removeTag(button) {
            button.parentElement.remove();
        }
    </script>
</head>
<body>
<h1>Создание поста</h1>

<form action="/post/create" method="POST">
    <div>
        <label for="title">Заголовок:</label><br>
        <input type="text" id="title" name="title" required>
    </div>
    <div>
        <label for="preview">Превью:</label><br>
        <textarea id="preview" name="preview" rows="5" cols="50" required></textarea>
    </div>
    <div>
        <label for="content">Содержание:</label><br>
        <textarea id="content" name="content" rows="5" cols="50" required></textarea>
    </div>
    <div>
        <label for="new_tag">Добавить тег:</label><br>
        <input type="text" id="new_tag" placeholder="Введите тег">
        <button type="button" onclick="addTag()">Добавить</button>
    </div>

    <div id="selected_tags" style="margin-top: 10px;"></div>
    <div>
        <button type="submit">Создать</button>
        <a href="/">Лента</a>
    </div>
</form>

</body>
</html>

